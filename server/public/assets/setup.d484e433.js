import{r as l,o as V,W as c,X as f,Y as t,a3 as n,f as o,a2 as d,$ as p,a0 as C,_ as x,a4 as B,a5 as P,F as D,M as F,ad as I}from"./index.20136e06.js";import{a as N,Q as $,b as q,c as L,d as T}from"./use-quasar.89054da0.js";import{c as U,Q as M,b as j}from"./QItem.0f540aa8.js";import{Q as A}from"./QPage.aa9a1aa8.js";import{a as v}from"./axios.bf56c3c5.js";const E={class:"row"},G={class:"col-8"},O={class:"col-4"},R={class:"q-my-md q-mr-md"},Z=Object.assign({name:"IndexPage"},{__name:"setup",setup(W){const Q=N(),e=l(null),g=l(!0),i=l(!0),y=l(!1),u={},h=l([]);var b=null;V(async()=>{const a=await v.get(m()+"/api/config/path");e.value=a.data,_(a.data)});function w(a){e.value=a,k()}function _(a){g.value=a.length===0,a===b?i.value=!1:i.value=!0}function m(){const a=document.location.port;return`${document.location.protocol}//${document.location.hostname}:${a}`}async function S(){const a=await v.post(m()+"/api/config/path",{path:e.value});console.log(a.data),a.data.status}async function k(){const a=await v.post(m()+"/api/config/path/test",{path:e.value});if(console.log(a.data),a.data.status==="ok"){u.message="Path is valid.",Q.notify({message:u.message,color:"primary",multiLine:!0,avatar:"https://cdn.quasar.dev/img/boy-avatar.png"}),i.value=!1,b=e.value;return}return"dir"in a.data&&(h.value=a.data.dir),a.data}return(a,r)=>(c(),f(A,{class:""},{default:t(()=>[n("div",E,[n("div",G,[o(T,{class:"q-ma-md"},{default:t(()=>[o($,null,{default:t(()=>[o(q,{"bottom-slots":"",modelValue:e.value,"onUpdate:modelValue":[r[1]||(r[1]=s=>e.value=s),_],label:"VPN Config Full Filename"},{after:t(()=>[o(d,{onClick:k,disable:g.value,modelValue:e.value,"onUpdate:modelValue":r[0]||(r[0]=s=>e.value=s),flat:"",color:"white","text-color":"black",label:"Test"},null,8,["disable","modelValue"]),o(d,{onClick:S,disable:i.value,flat:"",color:"pink","text-color":"black",label:"Save"},null,8,["disable"])]),_:1},8,["modelValue"])]),_:1}),y.value?(c(),f(L,{key:0,class:"bg-primary text-white"},{action:t(()=>[o(d,{flat:"",color:"white",label:"Dismiss"}),o(d,{flat:"",color:"white",label:"Update Credit Card"})]),default:t(()=>[p(C(u.message)+" ",1)]),_:1})):x("",!0)]),_:1})]),n("div",O,[n("div",R,[n("div",null,[p(" Directory "),o(U,{dense:"",padding:"",class:"rounded-borders"},{default:t(()=>[(c(!0),B(D,null,P(h.value,s=>F((c(),f(M,{onClick:X=>w(s.LongName),clickable:""},{default:t(()=>[o(j,null,{default:t(()=>[p(C(s.ShortName),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[I]])),256))]),_:1})])])])])]),_:1}))}});export{Z as default};
